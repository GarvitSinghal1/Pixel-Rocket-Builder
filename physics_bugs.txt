# PHYSICS BUGS AUDIT - SPACESIM
# ============================

1. CRITICAL: ReferenceError in `js/physics.js:665`.
   The variable `thrustN` is used in `calculateFuelConsumption` but is not defined in scope. Fuel consumption tracking is likely broken or crashing.

2. LOGIC BUG: Incorrect G-Force Vector Calculation in `js/physics.js:1469-1470`.
   The G-force telemetry logic calculates the thrust vector using `Math.cos(PHYSICS.rotation)` and `Math.sin(PHYSICS.rotation)` without adding the planet's positional angle (`posAngle`). This means G-force readings are only correct at the planet's North Pole (where posAngle = π/2 and rotation=0 is vertical). At the equator, the G-force vector will be rotated by 90 degrees incorrectly.

3. MISIMPLEMENTATION: Thrust Magnitude ignoring Throttle in `js/physics.js:648-653`.
   `calculateTotalThrust` returns the sum of max thrusts but ignores the current throttle setting. This leads to incorrect TWR and flight stats in the editor/pre-launch if throttle isn't at 100%.

4. APPROXIMATION ERROR: Thermal Mass Model in `js/physics.js:472`.
   The thermal mass calculation assumes the specific heat of aluminum (900 J/kg·K) for the entire rocket, including fuel. Kerosene and LOX have different specific heats, and as fuel is consumed, the thermal mass should drop significantly. The hull temperature simulation is too sluggish for empty rockets.

5. MISIMPLEMENTATION: Projected Area transition in `js/physics.js:334`.
   The drag model transitions from circular area to linear scaling at 2.5m width. However, at exactly 2.5m, `PI*(1.25)^2 ≈ 4.9` whereas `2.5*2 = 5`. There is a small jump in drag force as a rocket crosses this width threshold.

6. UI/DOCS BUG: Stagnation Temp formula in `index.html:112` vs `js/physics.js:443`.
   The UI claims `T_stag = T_amb * (1 + 0.18 * M^2)`. While this matches the code's `recoveryFactor = 0.9`, it is technically a simplification for turbulent flow. The "technical specs" should clarify this is an approximation.

7. UI BUG: Telemetry Overflow.
   The flight data panel in `html/simulator.html` has a `max-height: 80vh`. On small laptop screens, the advanced orbital telemetry will overflow the container or require scrolling during high-stakes flight maneuvers, which is a UX failure for "educational-grade" software.

8. EDITOR BUG: Delta-V calculation with Mixed Engines.
   `calculateDeltaV` in `js/physics.js:880` uses a weighted average Isp based on max thrust. If engines have vastly different Isp profiles (e.g., Ion + Solid) and are fired sequentially via staging, the pre-launch Delta-V estimate is mathematically incorrect as it assumes they fire together.
